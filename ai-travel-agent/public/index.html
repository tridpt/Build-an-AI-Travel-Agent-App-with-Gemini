<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Travel Agent - Trá»£ lÃ½ Du lá»‹ch ThÃ´ng minh</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <div class="language-switcher">
            <button onclick="switchLanguage('vi')" class="lang-btn active" id="lang-vi">VI</button>
            <button onclick="switchLanguage('en')" class="lang-btn" id="lang-en">EN</button>
        </div>

        <h1 data-i18n="title">ğŸŒ AI Travel Agent</h1>
        <p class="subtitle" data-i18n="subtitle">Trá»£ lÃ½ du lá»‹ch thÃ´ng minh vá»›i Google Gemini</p>
        
        <div class="tab-container">
            <button class="tab-button active" data-tab="form">
                <span data-i18n="tabPlan">ğŸ“‹ LÃªn Káº¿ Hoáº¡ch</span>
            </button>
            <button class="tab-button" data-tab="chat">
                <span data-i18n="tabChat">ğŸ’¬ Chat Tá»± Do</span>
            </button>
            <a href="/currency.html" class="tab-button" data-i18n="tabCurrency">
                <span>ğŸ’± Chuyá»ƒn Ä‘á»•i tiá»n tá»‡</span>
            </a>
            <a href="/flight.html" class="tab-button">
                <span>âœˆï¸ TÃ¬m chuyáº¿n bay</span>
            </a>
        </div>

        <div id="formTab" class="tab-content active">
            <div class="travel-form">
                <h2 data-i18n="formTitle">ğŸ¯ ThÃ´ng tin chuyáº¿n Ä‘i cá»§a báº¡n</h2>
                
                <div class="form-group">
                    <label for="startLocation" data-i18n="startLocation">ğŸ›« NÆ¡i báº¯t Ä‘áº§u?</label>
                    <input type="text" id="startLocation" data-i18n="startLocationPlaceholder" placeholder="VÃ­ dá»¥: HÃ  Ná»™i, TP.HCM..." required>
                </div>

                <div class="form-group">
                    <label for="destination" data-i18n="destination">ğŸ“ Báº¡n muá»‘n Ä‘i Ä‘Ã¢u?</label>
                    <input type="text" id="destination" data-i18n="destinationPlaceholder" placeholder="VÃ­ dá»¥: ÄÃ  Láº¡t, PhÃº Quá»‘c, Tokyo..." required>
                    <small data-i18n="destinationHint">CÃ³ thá»ƒ Ä‘á»ƒ trá»‘ng náº¿u muá»‘n AI gá»£i Ã½</small>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="startDate" data-i18n="startDate">ğŸ“… NgÃ y báº¯t Ä‘áº§u</label>
                        <input type="date" id="startDate" required>
                    </div>
                    <div class="form-group">
                        <label for="endDate" data-i18n="endDate">ğŸ“… NgÃ y káº¿t thÃºc</label>
                        <input type="date" id="endDate" required>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label data-i18n="budget">ğŸ’° NgÃ¢n sÃ¡ch</label>
                        <div class="budget-input-group">
                            <input type="number" id="budget" data-i18n="budgetPlaceholder" placeholder="VÃ­ dá»¥: 5000000" min="0" step="100000" required>
                            <select id="budgetCurrency">
                                <option value="VND">VNÄ</option>
                                <option value="USD">USD</option>
                                <option value="EUR">EUR</option>
                                <option value="JPY">JPY</option>
                            </select>
                        </div>
                        <small id="budgetDisplay">0 VNÄ</small>
                    </div>
                    <div class="form-group">
                        <label for="travelers" data-i18n="travelers">ğŸ‘¥ Sá»‘ ngÆ°á»i Ä‘i</label>
                        <input type="number" id="travelers" data-i18n="travelersPlaceholder" placeholder="Sá»‘ ngÆ°á»i" min="1" max="20" value="1" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="travelStyle" data-i18n="travelStyle">ğŸ¨ Phong cÃ¡ch du lá»‹ch</label>
                    <select id="travelStyle" required>
                        <option value="" data-i18n="selectStyle">-- Chá»n phong cÃ¡ch --</option>
                        <option value="budget" data-i18n="styleBudget">ğŸ’ Tiáº¿t kiá»‡m (Backpacker)</option>
                        <option value="comfort" data-i18n="styleComfort">ğŸ¨ Thoáº£i mÃ¡i (KhÃ¡ch sáº¡n 3-4 sao)</option>
                        <option value="luxury" data-i18n="styleLuxury">âœ¨ Cao cáº¥p (Resort 5 sao)</option>
                        <option value="adventure" data-i18n="styleAdventure">ğŸ”ï¸ PhiÃªu lÆ°u, Máº¡o hiá»ƒm</option>
                        <option value="relax" data-i18n="styleRelax">ğŸ–ï¸ Nghá»‰ dÆ°á»¡ng</option>
                        <option value="culture" data-i18n="styleCulture">ğŸ›ï¸ VÄƒn hÃ³a, Lá»‹ch sá»­</option>
                        <option value="food" data-i18n="styleFood">ğŸœ áº¨m thá»±c</option>
                    </select>
                </div>

                <div class="form-group">
                    <label data-i18n="interests">â¤ï¸ Sá»Ÿ thÃ­ch (chá»n nhiá»u)</label>
                    <div class="checkbox-group">
                        <label><input type="checkbox" value="beach"> <span>ğŸ–ï¸ Biá»ƒn</span></label>
                        <label><input type="checkbox" value="mountain"> <span>â›°ï¸ NÃºi</span></label>
                        <label><input type="checkbox" value="city"> <span>ğŸ™ï¸ ThÃ nh phá»‘</span></label>
                        <label><input type="checkbox" value="nature"> <span>ğŸŒ¿ ThiÃªn nhiÃªn</span></label>
                        <label><input type="checkbox" value="shopping"> <span>ğŸ›ï¸ Mua sáº¯m</span></label>
                        <label><input type="checkbox" value="food"> <span>ğŸ½ï¸ áº¨m thá»±c</span></label>
                        <label><input type="checkbox" value="nightlife"> <span>ğŸŒƒ Nightlife</span></label>
                        <label><input type="checkbox" value="history"> <span>ğŸ›ï¸ Lá»‹ch sá»­</span></label>
                    </div>
                </div>

                <div class="form-group">
                    <label for="mustVisitPlaces" data-i18n="mustVisitPlacesLabel">ğŸ“ Äá»‹a Ä‘iá»ƒm muá»‘n ghÃ© thÄƒm</label>
                    <textarea id="mustVisitPlaces" rows="3" data-i18n="mustVisitPlacesPlaceholder" placeholder="Liá»‡t kÃª cÃ¡c Ä‘á»‹a Ä‘iá»ƒm báº¡n khÃ´ng muá»‘n bá» lá»¡, cÃ¡ch nhau báº±ng dáº¥u pháº©y..."></textarea>
                </div>

                <div class="form-group">
                    <label for="transportation" data-i18n="transportation">ğŸš— PhÆ°Æ¡ng tiá»‡n di chuyá»ƒn</label>
                    <select id="transportation">
                        <option value="" data-i18n="selectTransport">-- Chá»n phÆ°Æ¡ng tiá»‡n --</option>
                        <option value="plane" data-i18n="transportPlane">âœˆï¸ MÃ¡y bay</option>
                        <option value="bus" data-i18n="transportBus">ğŸšŒ Xe khÃ¡ch</option>
                        <option value="train" data-i18n="transportTrain">ğŸš„ TÃ u há»a</option>
                        <option value="car" data-i18n="transportCar">ğŸš— Xe Ã´ tÃ´ (tá»± lÃ¡i)</option>
                        <option value="motorbike" data-i18n="transportMotorbike">ğŸï¸ Xe mÃ¡y</option>
                        <option value="any" data-i18n="transportAny">ğŸ¤· TÃ¹y Ã½</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="additionalInfo" data-i18n="additionalInfo">ğŸ“ YÃªu cáº§u khÃ¡c (tÃ¹y chá»n)</label>
                    <textarea id="additionalInfo" rows="3" data-i18n="additionalPlaceholder" placeholder="VÃ­ dá»¥: Muá»‘n á»Ÿ homestay, thÃ­ch chá»¥p áº£nh, Ä‘i cÃ¹ng tráº» em..."></textarea>
                </div>

                <button id="generatePlanButton" class="generate-button" data-i18n="generateButton">
                    âœ¨ Táº¡o Lá»‹ch TrÃ¬nh Du Lá»‹ch
                </button>
            </div>

            <div id="planResult" class="plan-result" style="display: none;">
                <div class="weather-section" style="margin-bottom: 25px;">
                    <div id="weather-current-container"></div>
                    <div id="weather-forecast-container"></div>
                </div>
                <div class="result-header">
                    <h2 data-i18n="resultTitle">ğŸ‰ Lá»‹ch trÃ¬nh cá»§a báº¡n</h2>
                    <div class="result-actions">
                        <div class="export-dropdown">
                            <button class="export-button" id="exportButton">
                                ğŸ“¥ <span data-i18n="exportButton">Xuáº¥t File</span> â–¼
                            </button>
                            <div class="export-menu" id="exportMenu">
                                <button onclick="tripExporter.exportToPDF()">ğŸ“„ PDF</button>
                                <button onclick="tripExporter.exportToHTML()">ğŸŒ HTML</button>
                                <button onclick="tripExporter.exportToMarkdown()">ğŸ“ Markdown</button>
                                <button onclick="tripExporter.exportToText()">ğŸ“ƒ Text</button>
                            </div>
                        </div>

                        <div class="share-dropdown">
                            <button class="share-button" id="shareButton">
                                ğŸ“¤ <span data-i18n="shareButton">Chia sáº»</span> â–¼
                            </button>
                            <div class="share-menu" id="shareMenu">
                                <button onclick="shareHandler.share('facebook')">Facebook</button>
                                <button onclick="shareHandler.share('twitter')">Twitter</button>
                                <button onclick="shareHandler.share('telegram')">Telegram</button>
                                <button onclick="shareHandler.share('email')">Email</button>
                            </div>
                        </div>

                        <button id="editPlanButton" class="edit-button" data-i18n="editButton">âœï¸ Chá»‰nh sá»­a</button>
                    </div>
                </div>
                <div id="planContent" class="plan-content"></div>
            </div>
        </div>

        <div id="chatTab" class="tab-content">
            <div class="chat-container">
                <div class="chat-messages" id="chatMessages"></div>
                <div class="input-container">
                    <input type="file" id="imageInput" accept="image/*" style="display: none;">
                    <button id="attachButton" class="attach-button">ğŸ“</button>
                    <textarea id="userInput" data-i18n="chatPlaceholder" placeholder="Há»i gÃ¬ Ä‘Ã³ vá» du lá»‹ch..." rows="2"></textarea>
                    <button id="sendButton" data-i18n="sendButton">Gá»­i</button>
                </div>
                <div id="imagePreviewContainer" class="image-preview-container" style="display: none;">
                    <img id="imagePreview" src="#" alt="Image preview"/>
                    <button id="removeImageButton" class="remove-image-button">Ã—</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="js/translations.js"></script>
    <script src="js/exportHandler.js"></script>
    <script src="js/shareHandler.js"></script> <script src="js/main.js"></script>
    <script src="js/weatherHandler.js"></script>
    <script src="js/formHandler.js"></script>
</body>
</html>